<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TradeBotPro — More jobs. Less admin. Powered by AI.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="TradeBotPro is your 24/7 AI office assistant for trades and home services. More jobs, less admin, powered by AI."
  />

  <style>
    :root {
      --primary-blue: #1f4e79;
      --accent-blue: #00a3ff;
      --dark-text: #1b1b1f;
      --light-bg: #f5f7fa;
      --white: #ffffff;
      --muted-text: #6b7280;
      --border-light: #e5e7eb;
      --success-green: #16a34a;
      --error-red: #dc2626;
    }

    * {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--light-bg);
      color: var(--dark-text);
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Top nav */
    .nav {
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(245, 247, 250, 0.9);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border-light);
    }

    .nav-inner {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0.9rem 1.25rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1.5rem;
    }

    .nav-left {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .logo-circle {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      background: var(--primary-blue);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--white);
      font-weight: 700;
      font-size: 1.05rem;
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
    }

    .brand-name {
      font-weight: 700;
      letter-spacing: 0.03em;
    }

    .brand-tagline {
      font-size: 0.8rem;
      color: var(--muted-text);
    }

    .nav-links {
      display: flex;
      gap: 1.25rem;
      font-size: 0.9rem;
      color: var(--muted-text);
    }

    .nav-links a {
      position: relative;
      padding-bottom: 0.1rem;
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -0.15rem;
      width: 0;
      height: 2px;
      background: var(--accent-blue);
      transition: width 0.18s ease-out;
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    .nav-cta {
      display: flex;
      gap: 0.75rem;
      align-items: center;
    }

    .nav-cta .ghost {
      font-size: 0.85rem;
      padding: 0.45rem 0.8rem;
      border-radius: 999px;
      border: 1px solid var(--border-light);
      background: var(--white);
      color: var(--muted-text);
      cursor: pointer;
    }

    .nav-cta .primary {
      font-size: 0.88rem;
      padding: 0.5rem 0.95rem;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, var(--primary-blue), #163454);
      color: var(--white);
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.16);
    }

    .nav-cta button:hover {
      transform: translateY(-1px);
    }

    main {
      flex: 1;
    }

    /* Hero + form layout */
    .hero {
      padding: 2.5rem 1.25rem 3.5rem;
    }

    .hero-inner {
      max-width: 1120px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: minmax(0, 1.45fr) minmax(0, 1fr);
      gap: 2.5rem;
      align-items: flex-start;
    }

    @media (max-width: 880px) {
      .hero-inner {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .hero-copy {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .hero-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.78rem;
      padding: 0.22rem 0.45rem;
      border-radius: 999px;
      background: rgba(31, 78, 121, 0.08);
      color: var(--primary-blue);
      border: 1px solid rgba(31, 78, 121, 0.18);
      width: fit-content;
    }

    .hero-pill span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: var(--primary-blue);
      color: var(--white);
      font-size: 0.7rem;
      font-weight: 600;
    }

    .hero-title {
      font-size: clamp(2rem, 3vw, 2.4rem);
      font-weight: 750;
      letter-spacing: -0.03em;
    }

    .hero-title span {
      color: var(--accent-blue);
    }

    .hero-sub {
      font-size: 0.98rem;
      color: var(--muted-text);
      max-width: 32rem;
    }

    .hero-points {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.9rem 1.5rem;
      margin-top: 0.5rem;
      font-size: 0.9rem;
    }

    @media (max-width: 640px) {
      .hero-points {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .hero-point {
      display: flex;
      gap: 0.5rem;
      align-items: flex-start;
    }

    .hero-point-badge {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(31, 78, 121, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.78rem;
      color: var(--primary-blue);
      flex-shrink: 0;
    }

    .hero-footnote {
      font-size: 0.8rem;
      color: var(--muted-text);
      margin-top: 0.75rem;
    }

    /* Right-hand signup card */
    .hero-form-card {
      background: var(--white);
      border-radius: 1.25rem;
      box-shadow: 0 20px 45px rgba(15, 23, 42, 0.18);
      padding: 1.6rem 1.6rem 1.7rem;
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    .form-header {
      margin-bottom: 1.25rem;
    }

    .form-title {
      font-size: 1.1rem;
      font-weight: 650;
      margin-bottom: 0.2rem;
    }

    .form-subtitle {
      font-size: 0.86rem;
      color: var(--muted-text);
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .field-group {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .field-row {
      display: flex;
      gap: 0.75rem;
    }

    .field-row .field-group {
      flex: 1;
    }

    label {
      font-size: 0.82rem;
      font-weight: 600;
      color: var(--dark-text);
    }

    label span.req {
      color: var(--error-red);
      margin-left: 0.2rem;
    }

    input,
    select,
    textarea {
      font: inherit;
      padding: 0.5rem 0.55rem;
      border-radius: 0.55rem;
      border: 1px solid var(--border-light);
      background: #f9fafb;
      outline: none;
      transition: border-color 0.12s ease-out, box-shadow 0.12s ease-out, background 0.12s ease-out;
    }

    input:focus,
    select:focus,
    textarea:focus {
      border-color: var(--accent-blue);
      box-shadow: 0 0 0 1px rgba(0, 163, 255, 0.2);
      background: var(--white);
    }

    textarea {
      resize: vertical;
      min-height: 70px;
      max-height: 160px;
    }

    .hint {
      font-size: 0.75rem;
      color: var(--muted-text);
    }

    .form-footer {
      margin-top: 0.6rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .primary-btn {
      appearance: none;
      border: none;
      width: 100%;
      padding: 0.6rem 0.8rem;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--primary-blue), #163454);
      color: var(--white);
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.22);
    }

    .primary-btn span.loading {
      font-size: 0.85rem;
      opacity: 0.8;
    }

    .form-meta {
      font-size: 0.74rem;
      color: var(--muted-text);
      line-height: 1.4;
    }

    .status-message {
      font-size: 0.8rem;
      padding: 0.45rem 0.6rem;
      border-radius: 0.55rem;
      display: none;
    }

    .status-message.success {
      display: block;
      background: rgba(22, 163, 74, 0.06);
      color: var(--success-green);
      border: 1px solid rgba(22, 163, 74, 0.3);
    }

    .status-message.error {
      display: block;
      background: rgba(220, 38, 38, 0.05);
      color: var(--error-red);
      border: 1px solid rgba(220, 38, 38, 0.25);
    }

    /* Simple “How it works” section */
    .section {
      padding: 0 1.25rem 3rem;
    }

    .section-inner {
      max-width: 1120px;
      margin: 0 auto;
      border-radius: 1.5rem;
      padding: 1.75rem 1.8rem 1.9rem;
      background: radial-gradient(circle at top left, rgba(0, 163, 255, 0.13), transparent 50%),
                  radial-gradient(circle at bottom right, rgba(31, 78, 121, 0.16), transparent 55%),
                  var(--white);
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    .section-title {
      font-size: 1.05rem;
      font-weight: 650;
      margin-bottom: 0.3rem;
    }

    .section-sub {
      font-size: 0.87rem;
      color: var(--muted-text);
      margin-bottom: 1.4rem;
    }

    .steps-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 1.4rem;
    }

    @media (max-width: 880px) {
      .steps-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .step-card {
      border-radius: 1rem;
      padding: 1rem 1rem 1.1rem;
      background: #f9fafb;
      border: 1px dashed rgba(148, 163, 184, 0.8);
    }

    .step-label {
      font-size: 0.75rem;
      color: var(--muted-text);
      margin-bottom: 0.25rem;
    }

    .step-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 0.35rem;
    }

    .step-body {
      font-size: 0.82rem;
      color: var(--muted-text);
    }

    /* Footer */
    footer {
      border-top: 1px solid var(--border-light);
      padding: 1rem 1.25rem 1.4rem;
      font-size: 0.78rem;
      color: var(--muted-text);
      background: #f9fafb;
    }

    .footer-inner {
      max-width: 1120px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 0.5rem;
      align-items: center;
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- TOP NAV -->
    <header class="nav">
      <div class="nav-inner">
        <div class="nav-left">
          <div class="logo-circle">TB</div>
          <div class="brand-text">
            <div class="brand-name">TradeBotPro</div>
            <div class="brand-tagline">More jobs. Less admin.</div>
          </div>
        </div>
        <nav class="nav-links">
          <a href="#how-it-works">How it works</a>
          <a href="#features">What it does</a>
        </nav>
        <div class="nav-cta">
          <button class="ghost" type="button">Login (coming soon)</button>
          <button class="primary" type="button" onclick="document.getElementById('business_name').focus()">
            Get early access
          </button>
        </div>
      </div>
    </header>

    <main>
      <!-- HERO -->
      <section class="hero">
        <div class="hero-inner">
          <div class="hero-copy">
            <div class="hero-pill">
              <span>AI</span>
              24/7 office assistant for trades
            </div>
            <h1 class="hero-title">
              More jobs. Less admin.<br />
              <span>Powered by AI.</span>
            </h1>
            <p class="hero-sub">
              TradeBotPro is your always-on office assistant for plumbers, heating engineers and other trades.
              It chats to customers, books jobs into your diary, chases quotes and leaves you to do the work.
            </p>

            <div class="hero-points">
              <div class="hero-point">
                <div class="hero-point-badge">1</div>
                <div>WhatsApp chat that answers questions, qualifies leads and books appointments while you’re on the tools.</div>
              </div>
              <div class="hero-point">
                <div class="hero-point-badge">2</div>
                <div>Pre-built templates for quotes, invoices and reminders — customised to your prices and service area.</div>
              </div>
              <div class="hero-point">
                <div class="hero-point-badge">3</div>
                <div>Supersimple dashboard, built for trades — not techies. We’ll set it up with you on a call.</div>
              </div>
              <div class="hero-point">
                <div class="hero-point-badge">4</div>
                <div>Start small with WhatsApp only, then add online forms, pricing pages and more when you’re ready.</div>
              </div>
            </div>

            <p class="hero-footnote">
              We’re currently onboarding a small number of early access partners in London and the Home Counties.
              Tell us about your business and we’ll be in touch.
            </p>
          </div>

          <!-- SIGNUP FORM CARD -->
          <aside class="hero-form-card" aria-label="Tell us about your business">
            <div class="form-header">
              <h2 class="form-title">Tell us about your business</h2>
              <p class="form-subtitle">
                Share a few details and we’ll set up a personalised demo for your trade and area.
              </p>
            </div>

            <form id="signupForm">
              <div class="field-group">
                <label for="business_name">Business name <span class="req">*</span></label>
                <input id="business_name" name="business_name" type="text" required autocomplete="organization" />
              </div>

              <div class="field-row">
                <div class="field-group">
                  <label for="owner_name">Owner / director</label>
                  <input id="owner_name" name="owner_name" type="text" autocomplete="name" />
                </div>
                <div class="field-group">
                  <label for="contact_name">Best contact name <span class="req">*</span></label>
                  <input id="contact_name" name="contact_name" type="text" required />
                </div>
              </div>

              <div class="field-row">
                <div class="field-group">
                  <label for="email">Email <span class="req">*</span></label>
                  <input id="email" name="email" type="email" required autocomplete="email" />
                </div>
                <div class="field-group">
                  <label for="phone">Mobile / WhatsApp <span class="req">*</span></label>
                  <input id="phone" name="phone" type="tel" required autocomplete="tel" />
                  <div class="hint">We’ll confirm details by WhatsApp or SMS.</div>
                </div>
              </div>

              <div class="field-row">
                <div class="field-group">
                  <label for="trade_type">Trade <span class="req">*</span></label>
                  <select id="trade_type" name="trade_type" required>
                    <option value="">Select trade…</option>
                    <option>Plumbing & Heating</option>
                    <option>Gas & Boilers</option>
                    <option>Electrical</option>
                    <option>Bathrooms / Kitchens</option>
                    <option>Landscaping / Fencing</option>
                    <option>Roofing</option>
                    <option>General Building</option>
                    <option>Other</option>
                  </select>
                </div>
                <div class="field-group">
                  <label for="base_postcode">Base postcode <span class="req">*</span></label>
                  <input id="base_postcode" name="base_postcode" type="text" required />
                  <div class="hint">e.g. HP14, UB6, SW19</div>
                </div>
              </div>

              <div class="field-group">
                <label for="services_summary">What do you want TradeBotPro to help with?</label>
                <textarea
                  id="services_summary"
                  name="services_summary"
                  placeholder="e.g. Answer WhatsApps, qualify boiler leads, book jobs into my diary, send quote reminders…"
                ></textarea>
              </div>

              <div class="form-footer">
                <button class="primary-btn" type="submit" id="submitBtn">
                  <span id="submitBtnLabel">Send enquiry</span>
                  <span id="submitBtnLoading" class="loading" style="display:none;">Sending…</span>
                </button>

                <div id="statusMessage" class="status-message"></div>

                <p class="form-meta">
                  By submitting this form you agree that we can contact you about TradeBotPro by phone, SMS or email.
                  No spam, no sharing data with third parties.
                </p>
              </div>
            </form>
          </aside>
        </div>
      </section>

      <!-- HOW IT WORKS -->
      <section class="section" id="how-it-works">
        <div class="section-inner">
          <h2 class="section-title">How onboarding works</h2>
          <p class="section-sub">
            We’ll do the boring setup with you, so your AI assistant sounds like your business — not a robot.
          </p>

          <div class="steps-grid">
            <div class="step-card">
              <div class="step-label">Step 1</div>
              <div class="step-title">Quick discovery call</div>
              <div class="step-body">
                We’ll run through your services, call-out fees, areas you cover and how you like to work
                (WhatsApp only, phone bookings, email, etc).
              </div>
            </div>
            <div class="step-card">
              <div class="step-label">Step 2</div>
              <div class="step-title">We set TradeBotPro up for you</div>
              <div class="step-body">
                We connect to your WhatsApp number, add your prices and service notes, and build a private AI
                assistant just for your business.
              </div>
            </div>
            <div class="step-card">
              <div class="step-label">Step 3</div>
              <div class="step-title">Go live & tweak</div>
              <div class="step-body">
                You test it with a few customers, we tweak anything that doesn’t sound right, and then switch it on
                for real enquiries.
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer>
      <div class="footer-inner">
        <div>© <span id="yearSpan"></span> TradeBotPro. All rights reserved.</div>
        <div>Made in the UK for trades and home services.</div>
      </div>
    </footer>
  </div>

  <!-- SUPABASE + FORM LOGIC -->
  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js@2.48.0";

    // TODO: replace these with your real project values
    const SUPABASE_URL = "https://yaiutswdcbfwkxfqxkzy.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlhaXV0c3dkY2Jmd2t4ZnF4a3p5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1MDE2MDgsImV4cCI6MjA4MDA3NzYwOH0.HOLFxzjsZ5Ieqg0b-aTdP0hAdLsPVXL6Zjs-HgOHgc8";

    if (!SUPABASE_URL || SUPABASE_URL.includes("YOUR_")) {
      console.error("Missing SUPABASE_URL or SUPABASE_ANON_KEY – please set them in index.html.");
    }

    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const form = document.getElementById("signupForm");
    const submitBtn = document.getElementById("submitBtn");
    const submitBtnLabel = document.getElementById("submitBtnLabel");
    const submitBtnLoading = document.getElementById("submitBtnLoading");
    const statusMessage = document.getElementById("statusMessage");

    function setStatus(message, type = "success") {
      if (!statusMessage) return;
      statusMessage.textContent = message;
      statusMessage.className = "status-message " + type;
    }

    function setSubmitting(isSubmitting) {
      if (!submitBtn) return;
      submitBtn.disabled = isSubmitting;
      if (isSubmitting) {
        submitBtnLabel.style.display = "none";
        submitBtnLoading.style.display = "inline";
      } else {
        submitBtnLabel.style.display = "inline";
        submitBtnLoading.style.display = "none";
      }
    }

    form?.addEventListener("submit", async (e) => {
      e.preventDefault();
      setStatus("");
      setSubmitting(true);

      const formData = new FormData(form);

      const payload = {
        business_name: formData.get("business_name")?.toString().trim() || null,
        owner_name: formData.get("owner_name")?.toString().trim() || null,
        contact_name: formData.get("contact_name")?.toString().trim() || null,
        email: formData.get("email")?.toString().trim() || null,
        phone: formData.get("phone")?.toString().trim() || null,
        trade_type: formData.get("trade_type")?.toString().trim() || null,
        base_postcode: formData.get("base_postcode")?.toString().trim() || null,
        services_summary: formData.get("services_summary")?.toString().trim() || null,

        // Backend/admin fields:
        plan_status: "Enquiry received",      // or "Trial requested" if you add a checkbox
        pending_setup: true,
        is_active: false,
        account_status: "Awaiting setup",
        account_status_reason: "New website enquiry",
      };

      try {
        const { data, error } = await supabase
          .from("tradebotpro_signups")
          .insert(payload)
          .select("*")
          .single();

        if (error) {
          console.error("Supabase insert error:", error);
          // 401 often means: wrong key OR RLS blocking the insert
          if (error.code === "401" || error.message?.includes("JWT")) {
            setStatus(
              "We couldn't save your enquiry (authorisation error). Andy: check you're using the anon public key and insert policy.",
              "error"
            );
          } else {
            setStatus("We couldn't save your enquiry. Please try again in a moment.", "error");
          }
          return;
        }

        // Success
        form.reset();
        setStatus("Enquiry sent successfully. We’ll be in touch soon.", "success");
      } catch (err) {
        console.error("Unexpected error submitting form:", err);
        setStatus("Something went wrong sending your enquiry. Please try again.", "error");
      } finally {
        setSubmitting(false);
      }
    });

    // Footer year
    const yearSpan = document.getElementById("yearSpan");
    if (yearSpan) {
      yearSpan.textContent = new Date().getFullYear().toString();
    }
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TradeBotPro — Setup Wizard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="TradeBotPro setup wizard — help us configure your 24/7 AI office assistant."
  />

  <style>
    :root {
      --primary-blue: #1f4e79;
      --accent-blue: #00a3ff;
      --dark-text: #1b1b1f;
      --light-bg: #f5f7fa;
      --white: #ffffff;
      --border-soft: rgba(0, 0, 0, 0.08);
      --border-strong: rgba(0, 0, 0, 0.18);
      --muted-text: rgba(0, 0, 0, 0.65);
      --success-green: #0f7b46;
      --error-red: #b3261e;
    }

    * {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--light-bg);
      color: var(--dark-text);
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* HEADER */

    header {
      background: var(--white);
      border-bottom: 1px solid var(--border-soft);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .header-inner {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0.75rem 1.25rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .logo-wrap {
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }

    .logo-icon {
      width: 32px;
      height: 32px;
      border-radius: 9px;
      background: var(--primary-blue);
      position: relative;
    }

    .logo-icon::before,
    .logo-icon::after {
      content: "";
      position: absolute;
      background: var(--white);
      border-radius: 4px;
    }

    .logo-icon::before {
      width: 12px;
      height: 18px;
      left: 7px;
      top: 7px;
    }

    .logo-icon::after {
      width: 6px;
      height: 12px;
      right: 7px;
      top: 10px;
    }

    .logo-main {
      font-weight: 700;
      font-size: 1.02rem;
      color: var(--primary-blue);
    }

    .logo-tag {
      font-size: 0.7rem;
      opacity: 0.7;
    }

    .header-right {
      font-size: 0.75rem;
      opacity: 0.8;
      text-align: right;
    }

    /* MAIN LAYOUT */

    main {
      flex: 1;
    }

    .wizard-shell {
      max-width: 1120px;
      margin: 1.5rem auto 2.5rem;
      padding: 0 1.25rem 2rem;
    }

    .wizard-header {
      margin-bottom: 1.25rem;
    }

    .wizard-title {
      font-size: 1.5rem;
      margin-bottom: 0.2rem;
      color: var(--primary-blue);
    }

    .wizard-subtitle {
      font-size: 0.9rem;
      color: var(--muted-text);
      max-width: 42rem;
    }

    /* STATUS BAR AT TOP */

    .wizard-status {
      margin: 1.2rem 0 1.6rem;
      padding: 0.8rem 0.9rem;
      border-radius: 0.8rem;
      background: #e9f0f7;
      border: 1px solid rgba(31, 78, 121, 0.16);
    }

    .wizard-status-top {
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      font-size: 0.8rem;
      margin-bottom: 0.5rem;
      flex-wrap: wrap;
    }

    .wizard-status-label {
      font-weight: 600;
      color: var(--primary-blue);
    }

    .wizard-status-secondary {
      opacity: 0.8;
    }

    .wizard-status-bar {
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: rgba(31, 78, 121, 0.14);
      overflow: hidden;
    }

    .wizard-status-fill {
      height: 100%;
      width: 25%;
      border-radius: 999px;
      background: var(--primary-blue);
      transition: width 0.25s ease;
    }

    /* STEPPER */

    .wizard-body {
      display: grid;
      grid-template-columns: 260px minmax(0, 1fr);
      gap: 1.4rem;
      align-items: flex-start;
    }

    .wizard-steps {
      position: sticky;
      top: 4.5rem;
      align-self: flex-start;
      padding: 1rem;
      border-radius: 1rem;
      background: var(--white);
      border: 1px solid var(--border-soft);
      font-size: 0.85rem;
    }

    .steps-list {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .step-item {
      display: flex;
      align-items: flex-start;
      gap: 0.6rem;
      padding: 0.55rem 0.3rem;
      cursor: default;
    }

    .step-item:not(:last-child) {
      border-bottom: 1px solid rgba(0, 0, 0, 0.04);
    }

    .step-badge {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: 2px solid rgba(31, 78, 121, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      color: rgba(0, 0, 0, 0.6);
      flex-shrink: 0;
    }

    .step-text {
      flex: 1;
    }

    .step-title {
      font-weight: 600;
      font-size: 0.85rem;
      margin-bottom: 0.05rem;
    }

    .step-desc {
      font-size: 0.76rem;
      color: var(--muted-text);
    }

    .step-item--active .step-badge {
      border-color: var(--primary-blue);
      background: var(--primary-blue);
      color: var(--white);
    }

    .step-item--active .step-title {
      color: var(--primary-blue);
    }

    .step-item--done .step-badge {
      border-color: var(--success-green);
      background: var(--success-green);
      color: var(--white);
    }

    /* STEP PANELS */

    .wizard-panel {
      background: var(--white);
      border-radius: 1rem;
      border: 1px solid var(--border-soft);
      padding: 1.3rem 1.4rem 1.4rem;
      box-shadow: 0 10px 26px rgba(0, 0, 0, 0.03);
    }

    .wizard-panel h2 {
      margin: 0 0 0.5rem;
      font-size: 1.2rem;
      color: var(--primary-blue);
    }

    .wizard-panel-intro {
      font-size: 0.9rem;
      color: var(--muted-text);
      margin-bottom: 1.1rem;
    }

    .wizard-panel[hidden] {
      display: none;
    }

    .fields-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 0.9rem 1rem;
      margin-bottom: 1rem;
    }

    .field {
      font-size: 0.85rem;
    }

    .field label {
      display: block;
      font-size: 0.8rem;
      font-weight: 500;
      margin-bottom: 0.25rem;
    }

    .field input,
    .field select,
    .field textarea {
      width: 100%;
      padding: 0.52rem 0.6rem;
      border-radius: 0.45rem;
      border: 1px solid var(--border-strong);
      font: inherit;
      font-size: 0.85rem;
    }

    .field input:focus,
    .field select:focus,
    .field textarea:focus {
      outline: 2px solid rgba(31, 78, 121, 0.4);
      border-color: transparent;
    }

    .field small {
      display: block;
      font-size: 0.75rem;
      color: var(--muted-text);
      margin-top: 0.15rem;
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    /* OPTION CARDS (RADIO / CHECKBOX) */

    .options-group {
      margin: 1.1rem 0;
    }

    .options-title {
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .options-hint {
      font-size: 0.78rem;
      color: var(--muted-text);
      margin-bottom: 0.45rem;
    }

    .options-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 0.7rem;
    }

    .option-card {
      display: block;
      border-radius: 0.75rem;
      border: 1px solid var(--border-soft);
      background: #f8fafc;
      padding: 0;
      cursor: pointer;
      transition: border-color 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
      font-size: 0.85rem;
    }

    .option-card input {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .option-card-body {
      padding: 0.6rem 0.7rem 0.65rem;
    }

    .option-title {
      font-weight: 600;
      margin-bottom: 0.15rem;
      font-size: 0.83rem;
    }

    .option-text {
      font-size: 0.78rem;
      color: var(--muted-text);
    }

    .option-card input:checked + .option-card-body {
      border-radius: 0.75rem;
      border: 1px solid rgba(31, 78, 121, 0.6);
      box-shadow: 0 0 0 1px rgba(31, 78, 121, 0.35);
      background: #eef3fb;
    }

    /* CHECKLIST STYLE */

    .checklist {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem 0.9rem;
      font-size: 0.8rem;
      margin: 0.55rem 0 0.6rem;
    }

    .check-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      padding: 0.28rem 0.6rem;
      border-radius: 999px;
      border: 1px solid var(--border-strong);
      background: #f8fafc;
      cursor: pointer;
    }

    .check-pill input {
      accent-color: var(--primary-blue);
    }

    /* REVIEW / SUMMARY PANEL */

    .summary-box {
      margin-top: 1rem;
      padding: 0.85rem 0.9rem;
      border-radius: 0.75rem;
      background: #f5f7ff;
      border: 1px dashed rgba(31, 78, 121, 0.4);
      font-size: 0.85rem;
    }

    .summary-box strong {
      color: var(--primary-blue);
    }

    /* STATUS MESSAGES */

    .status-message {
      margin-top: 0.7rem;
      font-size: 0.82rem;
      min-height: 1.1rem;
    }

    .status-message--success {
      color: var(--success-green);
    }

    .status-message--error {
      color: var(--error-red);
    }

    /* NAV BUTTONS */

    .wizard-nav {
      margin-top: 1.1rem;
      display: flex;
      justify-content: space-between;
      gap: 0.8rem;
      flex-wrap: wrap;
      align-items: center;
    }

    .nav-left,
    .nav-right {
      display: flex;
      gap: 0.6rem;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.55rem 1.15rem;
      border-radius: 999px;
      border: 1px solid transparent;
      font-size: 0.9rem;
      cursor: pointer;
      background: transparent;
    }

    .btn-primary {
      background: var(--primary-blue);
      color: var(--white);
      border-color: var(--primary-blue);
      font-weight: 600;
    }

    .btn-primary:hover {
      background: #163857;
      border-color: #163857;
    }

    .btn-outline {
      border-color: var(--border-strong);
      background: var(--white);
    }

    .btn-outline:hover {
      border-color: var(--primary-blue);
    }

    .btn-link {
      background: none;
      border: none;
      padding: 0;
      font-size: 0.8rem;
      color: var(--muted-text);
      text-decoration: underline;
      cursor: pointer;
    }

    /* RESPONSIVE */

    @media (max-width: 840px) {
      .wizard-body {
        grid-template-columns: minmax(0, 1fr);
      }

      .wizard-steps {
        position: static;
        margin-bottom: 1rem;
      }
    }

    @media (max-width: 520px) {
      .header-inner {
        flex-direction: column;
        align-items: flex-start;
      }

      .wizard-shell {
        padding: 0 0.9rem 2rem;
      }

      .wizard-status {
        padding: 0.7rem 0.75rem;
      }

      .wizard-panel {
        padding: 1.05rem 1rem 1.15rem;
      }

      .wizard-nav {
        flex-direction: column-reverse;
        align-items: stretch;
      }

      .nav-right,
      .nav-left {
        width: 100%;
        justify-content: space-between;
      }

      .btn-primary,
      .btn-outline {
        flex: 1;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
<div class="page">
  <!-- HEADER -->
  <header>
    <div class="header-inner">
      <div class="logo-wrap">
        <div class="logo-icon" aria-hidden="true"></div>
        <div>
          <div class="logo-main">TradeBotPro</div>
          <div class="logo-tag">More jobs. Less admin. Powered by AI.</div>
        </div>
      </div>
      <div class="header-right">
        <div>Setup wizard</div>
        <div id="user-label"></div>
      </div>
    </div>
  </header>

  <main>
    <div class="wizard-shell">
      <div class="wizard-header">
        <h1 class="wizard-title">Let’s get your AI office assistant ready</h1>
        <p class="wizard-subtitle">
          These four steps give us everything we need to wire TradeBotPro to your trade,
          pricing and service area — so it feels like a real member of your team that you
          <strong>wish you had signed up years ago</strong>.
        </p>
      </div>

      <!-- STATUS BAR AT TOP -->
      <div class="wizard-status">
        <div class="wizard-status-top">
          <div class="wizard-status-label" id="status-label">
            Step 1 of 4 • Your business basics
          </div>
          <div class="wizard-status-secondary" id="status-secondary">
            2–3 minutes to complete. You can always tweak details later.
          </div>
        </div>
        <div class="wizard-status-bar">
          <div class="wizard-status-fill" id="status-fill"></div>
        </div>
      </div>

      <div class="wizard-body">
        <!-- LEFT: STEP LIST -->
        <aside class="wizard-steps" aria-label="Setup steps">
          <ol class="steps-list">
            <li class="step-item step-item--active" data-step-index="1">
              <div class="step-badge">1</div>
              <div class="step-text">
                <div class="step-title">Your business basics</div>
                <div class="step-desc">Names, contact details &amp; trade.</div>
              </div>
            </li>
            <li class="step-item" data-step-index="2">
              <div class="step-badge">2</div>
              <div class="step-text">
                <div class="step-title">Channels &amp; service area</div>
                <div class="step-desc">Where we reply &amp; how far you travel.</div>
              </div>
            </li>
            <li class="step-item" data-step-index="3">
              <div class="step-badge">3</div>
              <div class="step-text">
                <div class="step-title">Pricing &amp; jobs</div>
                <div class="step-desc">How you charge &amp; typical work.</div>
              </div>
            </li>
            <li class="step-item" data-step-index="4">
              <div class="step-badge">4</div>
              <div class="step-text">
                <div class="step-title">Demo &amp; go-live</div>
                <div class="step-desc">Safe demo mode &amp; launch plan.</div>
              </div>
            </li>
          </ol>
        </aside>

        <!-- RIGHT: PANELS -->
        <section class="wizard-panel">
          <form id="setup-form" novalidate>
            <!-- STEP 1 -->
            <div class="wizard-step" id="step-1">
              <h2>Step 1 — Your business basics</h2>
              <p class="wizard-panel-intro">
                A few basics so TradeBotPro introduces itself properly and we know who we’re configuring.
              </p>

              <div class="fields-grid">
                <div class="field">
                  <label for="business_name">Business name *</label>
                  <input id="business_name" name="business_name" type="text" required>
                  <small>How you’d like customers to see your name in messages.</small>
                </div>

                <div class="field">
                  <label for="contact_name">Main contact name *</label>
                  <input id="contact_name" name="contact_name" type="text" required>
                  <small>Owner or lead decision-maker TradeBotPro should work with.</small>
                </div>

                <div class="field">
                  <label for="email">Best email for setup &amp; reports *</label>
                  <input id="email" name="email" type="email" required>
                  <small>We’ll use this for setup notes and monthly summaries.</small>
                </div>

                <div class="field">
                  <label for="mobile">Mobile / WhatsApp number *</label>
                  <input id="mobile" name="mobile" type="tel" required>
                  <small>The number you want TradeBotPro to connect with first.</small>
                </div>

                <div class="field">
                  <label for="trade">What trade are you? *</label>
                  <select id="trade" name="trade" required>
                    <option value="">Select your trade…</option>
                    <option>Plumber</option>
                    <option>Heating Engineer</option>
                    <option>Gas Engineer</option>
                    <option>Plumbing &amp; Heating</option>
                    <option>Electrician</option>
                    <option>Roofer / Guttering</option>
                    <option>Builder</option>
                    <option>Handyman / Multi-trade</option>
                    <option>Landscaper / Gardener</option>
                    <option>Window Cleaner</option>
                    <option>Cleaner / Carpet Cleaner</option>
                    <option>Pest Control</option>
                    <option>Other home services</option>
                  </select>
                  <small>This should match your main trade in your ads and website.</small>
                </div>

                <div class="field">
                  <label for="website">Website (if you have one)</label>
                  <input id="website" name="website" type="url" placeholder="https://">
                  <small>Optional, but helpful so we can match your tone of voice.</small>
                </div>

                <div class="field">
                  <label for="base_postcode">Base postcode *</label>
                  <input id="base_postcode" name="base_postcode" type="text" required>
                  <small>Your main yard / home base postcode. We’ll map your radius from here.</small>
                </div>

                <div class="field">
                  <label for="notes_basic">Anything important we should know?</label>
                  <textarea id="notes_basic" name="notes_basic" placeholder="E.g. emergency-only, commercial focus, language preferences…"></textarea>
                </div>
              </div>
            </div>

            <!-- STEP 2 -->
            <div class="wizard-step" id="step-2" hidden>
              <h2>Step 2 — Channels &amp; service area</h2>
              <p class="wizard-panel-intro">
                Where do your customers message you now, and how far from your base postcode do you want jobs?
              </p>

              <div class="options-group">
                <div class="options-title">Where should TradeBotPro reply for you?</div>
                <div class="options-hint">
                  Tick all that apply — we can switch channels on one by one during setup.
                </div>
                <div class="checklist">
                  <label class="check-pill">
                    <input type="checkbox" name="channels" value="whatsapp">
                    WhatsApp / WhatsApp Business
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="channels" value="facebook">
                    Facebook / Messenger
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="channels" value="instagram">
                    Instagram DMs
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="channels" value="website">
                    Website chat / enquiry form
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="channels" value="sms">
                    SMS text messages
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="channels" value="phone-voicemail">
                    Phone / voicemail (later phase)
                  </label>
                </div>
              </div>

              <div class="fields-grid">
                <div class="field">
                  <label for="whatsapp_setup_number">WhatsApp number you’ll use</label>
                  <input id="whatsapp_setup_number" name="whatsapp_setup_number" type="tel" placeholder="e.g. your business mobile">
                  <small>This is the number you’ll use for demo &amp; live messages.</small>
                </div>

                <div class="field">
                  <label for="booking_phone">Number customers call for bookings</label>
                  <input id="booking_phone" name="booking_phone" type="tel" placeholder="If different to your mobile">
                </div>
              </div>

              <div class="options-group">
                <div class="options-title">How far from your base postcode do you usually travel?</div>
                <div class="options-hint">
                  We’ll use this to let TradeBotPro accept or decline jobs automatically.
                </div>
                <div class="options-row">
                  <label class="option-card">
                    <input type="radio" name="radius" value="5">
                    <div class="option-card-body">
                      <div class="option-title">Up to ~5 miles</div>
                      <div class="option-text">Tight local area, ideal for dense towns and cities.</div>
                    </div>
                  </label>
                  <label class="option-card">
                    <input type="radio" name="radius" value="10">
                    <div class="option-card-body">
                      <div class="option-title">Up to ~10 miles</div>
                      <div class="option-text">Typical range for most local trades businesses.</div>
                    </div>
                  </label>
                  <label class="option-card">
                    <input type="radio" name="radius" value="15">
                    <div class="option-card-body">
                      <div class="option-title">Up to ~15–20 miles</div>
                      <div class="option-text">Happy to travel further for good-value jobs.</div>
                    </div>
                  </label>
                  <label class="option-card">
                    <input type="radio" name="radius" value="custom">
                    <div class="option-card-body">
                      <div class="option-title">Custom / depends on job</div>
                      <div class="option-text">We’ll set rules based on postcode &amp; job type.</div>
                    </div>
                  </label>
                </div>
              </div>

              <div class="fields-grid">
                <div class="field">
                  <label for="priority_postcodes">Priority postcodes or areas</label>
                  <textarea id="priority_postcodes" name="priority_postcodes"
                    placeholder="E.g. OX1, OX2, HP14 — prefer these first."></textarea>
                  <small>Optional, but useful if there are areas you especially want.</small>
                </div>

                <div class="field">
                  <label for="avoid_postcodes">Any areas you avoid?</label>
                  <textarea id="avoid_postcodes" name="avoid_postcodes"
                    placeholder="E.g. city centre parking, congestion zones, certain estates…"></textarea>
                </div>
              </div>

              <div class="options-group">
                <div class="options-title">Which review platform do you use or want to use?</div>
                <div class="options-hint">
                  TradeBotPro can chase reviews automatically after each job.
                </div>
                <div class="checklist">
                  <label class="check-pill">
                    <input type="checkbox" name="reviews_platform" value="google">
                    Google reviews
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="reviews_platform" value="trustpilot">
                    Trustpilot
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="reviews_platform" value="facebook">
                    Facebook page reviews
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="reviews_platform" value="none-yet">
                    None yet — want to start
                  </label>
                </div>
                <div class="field">
                  <label for="reviews_other">Other platform or review link (optional)</label>
                  <input id="reviews_other" name="reviews_other" type="text"
                         placeholder="E.g. Checkatrade profile, custom landing page…">
                </div>
              </div>
            </div>

            <!-- STEP 3 -->
            <div class="wizard-step" id="step-3" hidden>
              <h2>Step 3 — Pricing &amp; jobs</h2>
              <p class="wizard-panel-intro">
                Don’t worry about exact numbers here — we just need the shape of how you charge
                and the type of jobs you want more of. We’ll fine-tune together.
              </p>

              <div class="options-group">
                <div class="options-title">How do you usually charge for call-outs?</div>
                <div class="options-hint">
                  Pick the closest match — we’ll word TradeBotPro around this.
                </div>
                <div class="options-row">
                  <label class="option-card">
                    <input type="radio" name="callout_model" value="callout-incl-first-hour">
                    <div class="option-card-body">
                      <div class="option-title">Call-out fee including first hour</div>
                      <div class="option-text">Customer pays a call-out that covers travel and the first hour on site.</div>
                    </div>
                  </label>
                  <label class="option-card">
                    <input type="radio" name="callout_model" value="time-only">
                    <div class="option-card-body">
                      <div class="option-title">No call-out, pay for time on job</div>
                      <div class="option-text">Customer only pays for time spent on the job plus parts.</div>
                    </div>
                  </label>
                  <label class="option-card">
                    <input type="radio" name="callout_model" value="fixed-menus">
                    <div class="option-card-body">
                      <div class="option-title">Fixed prices for common jobs</div>
                      <div class="option-text">Set prices for things like boiler services or small repairs.</div>
                    </div>
                  </label>
                  <label class="option-card">
                    <input type="radio" name="callout_model" value="mixed">
                    <div class="option-card-body">
                      <div class="option-title">A mix / depends on the job</div>
                      <div class="option-text">We’ll build rules for emergency, small jobs and bigger projects.</div>
                    </div>
                  </label>
                </div>
              </div>

              <div class="options-group">
                <div class="options-title">What kind of jobs do you most want more of?</div>
                <div class="options-hint">
                  Tick the ones that matter most. TradeBotPro can gently nudge customers towards these.
                </div>
                <div class="checklist">
                  <label class="check-pill">
                    <input type="checkbox" name="wanted_jobs" value="emergency">
                    Emergency leaks &amp; breakdowns
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="wanted_jobs" value="boiler-service">
                    Annual boiler / system services
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="wanted_jobs" value="small-jobs">
                    Small “odd jobs” / minor repairs
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="wanted_jobs" value="projects">
                    Larger projects / installs
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="wanted_jobs" value="landlord">
                    Landlord / commercial work
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="wanted_jobs" value="maintenance-plans">
                    Service plans / repeat work
                  </label>
                </div>
              </div>

              <div class="options-group">
                <div class="options-title">Out-of-hours and travel preferences</div>
                <div class="options-hint">
                  This helps us stop TradeBotPro promising jobs you don’t want.
                </div>
                <div class="checklist">
                  <label class="check-pill">
                    <input type="checkbox" name="prefs" value="no-late-nights">
                    No late-night emergencies
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="prefs" value="weekends-case-by-case">
                    Weekends case-by-case
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="prefs" value="daytime-only">
                    Daytime only (no evenings)
                  </label>
                  <label class="check-pill">
                    <input type="checkbox" name="prefs" value="avoid-long-distance">
                    Avoid long-distance / motorway runs
                  </label>
                </div>
              </div>

              <div class="fields-grid">
                <div class="field">
                  <label for="typical_ranges">Typical price ranges (optional)</label>
                  <textarea id="typical_ranges" name="typical_ranges"
                    placeholder="E.g. “Call-outs from £90–£140”, “Boiler service from £80”, “Day rate around £280–£350”"></textarea>
                  <small>Even rough ranges help us give customers realistic expectations.</small>
                </div>

                <div class="field">
                  <label for="pricing_notes">Anything we must avoid saying?</label>
                  <textarea id="pricing_notes" name="pricing_notes"
                    placeholder="E.g. don’t give fixed prices without photos, always say +VAT, specific wording you prefer…"></textarea>
                </div>
              </div>
            </div>

            <!-- STEP 4 -->
            <div class="wizard-step" id="step-4" hidden>
              <h2>Step 4 — Demo &amp; go-live</h2>
              <p class="wizard-panel-intro">
                We’ll start you in a safe demo mode so you can test TradeBotPro from your own phone,
                then agree exactly when it starts talking to real customers and booking your diary.
              </p>

              <div class="options-group">
                <div class="options-title">How would you like to start?</div>
                <div class="options-hint">
                  Pick the stage that feels right for week one. We can move through these quickly once you’re confident.
                </div>
                <div class="options-row">
                  <label class="option-card">
                    <input type="radio" name="demo_stage" value="private-demo">
                    <div class="option-card-body">
                      <div class="option-title">Private demo only</div>
                      <div class="option-text">
                        You and a partner message from your own phones to see how TradeBotPro responds —
                        no real customers yet.
                      </div>
                    </div>
                  </label>
                  <label class="option-card">
                    <input type="radio" name="demo_stage" value="demo-plus-diary">
                    <div class="option-card-body">
                      <div class="option-title">Demo + diary test</div>
                      <div class="option-text">
                        Private demo plus test bookings into your calendar so you can see jobs appear.
                      </div>
                    </div>
                  </label>
                  <label class="option-card">
                    <input type="radio" name="demo_stage" value="soft-live">
                    <div class="option-card-body">
                      <div class="option-title">Soft live (you approve first)</div>
                      <div class="option-text">
                        Real customers can message, but TradeBotPro drafts replies and bookings for you to approve.
                      </div>
                    </div>
                  </label>
                  <label class="option-card">
                    <input type="radio" name="demo_stage" value="full-live">
                    <div class="option-card-body">
                      <div class="option-title">Full live (recommended)</div>
                      <div class="option-text">
                        Once you’re happy, TradeBotPro can answer, pre-quote and book jobs automatically
                        within agreed rules.
                      </div>
                    </div>
                  </label>
                </div>
              </div>

              <div class="fields-grid">
                <div class="field">
                  <label for="demo_evening">Preferred evening to test from your own phones</label>
                  <input id="demo_evening" name="demo_evening" type="date">
                  <small>We’ll aim to have everything ready so you can sit down and try a full conversation.</small>
                </div>

                <div class="field">
                  <label for="go_live_date">Rough go-live date you’re aiming for</label>
                  <input id="go_live_date" name="go_live_date" type="date">
                  <small>We’ll agree the exact plan on a call before anything goes fully live.</small>
                </div>

                <div class="field">
                  <label for="calendar_type">Which calendar do you mainly use?</label>
                  <select id="calendar_type" name="calendar_type">
                    <option value="">Select one…</option>
                    <option>Google Calendar</option>
                    <option>Outlook / Office 365</option>
                    <option>Apple / iPhone calendar</option>
                    <option>Paper diary / other</option>
                  </select>
                  <small>This helps us plan booking straight into your diary from day one.</small>
                </div>

                <div class="field">
                  <label for="contact_preference">How should we confirm final details?</label>
                  <select id="contact_preference" name="contact_preference">
                    <option value="">Select one…</option>
                    <option>WhatsApp message</option>
                    <option>Phone call</option>
                    <option>Email</option>
                  </select>
                </div>
              </div>

              <div class="field">
                <label for="final_notes">Any final notes or must-haves?</label>
                <textarea id="final_notes" name="final_notes"
                  placeholder="E.g. questions you want to test, jobs you definitely do / don’t want, diary quirks…"></textarea>
              </div>

              <div class="summary-box">
                <strong>What happens next?</strong><br />
                When you click “Finish”, we’ll use your answers from all four steps to configure your TradeBotPro
                profile behind the scenes. In the next phase we’ll connect Supabase, your WhatsApp number and your
                calendar so this wizard becomes your live control panel.
              </div>

              <div id="wizard-status-message" class="status-message" aria-live="polite"></div>
            </div>

            <!-- NAVIGATION BUTTONS -->
            <div class="wizard-nav">
              <div class="nav-left">
                <button type="button" class="btn btn-outline" id="btn-back">
                  ← Back
                </button>
                <button type="button" class="btn-link" id="btn-save-later">
                  Save &amp; finish later (placeholder)
                </button>
              </div>
              <div class="nav-right">
                <button type="button" class="btn btn-primary" id="btn-next">
                  Next step →
                </button>
              </div>
            </div>
          </form>
        </section>
      </div>
    </div>
  </main>
</div>

<script>
  // FRONT-END ONLY — NO SUPABASE/KEYS YET
  // We’ll connect this to Supabase after we’re happy with the UX & fields.

  (function () {
    const totalSteps = 4;
    let currentStep = 1;

    const statusLabel = document.getElementById('status-label');
    const statusSecondary = document.getElementById('status-secondary');
    const statusFill = document.getElementById('status-fill');
    const stepPanels = [];
    const stepItems = document.querySelectorAll('.step-item');
    const form = document.getElementById('setup-form');
    const btnBack = document.getElementById('btn-back');
    const btnNext = document.getElementById('btn-next');
    const btnSaveLater = document.getElementById('btn-save-later');
    const wizardStatusMessage = document.getElementById('wizard-status-message');

    for (let i = 1; i <= totalSteps; i++) {
      stepPanels[i] = document.getElementById(`step-${i}`);
    }

    function getStepLabel(step) {
      switch (step) {
        case 1: return 'Step 1 of 4 • Your business basics';
        case 2: return 'Step 2 of 4 • Channels & service area';
        case 3: return 'Step 3 of 4 • Pricing & jobs';
        case 4: return 'Step 4 of 4 • Demo & go-live';
        default: return '';
      }
    }

    function getStepSecondary(step) {
      if (step === 1) {
        return '2–3 minutes to complete. The important basics first.';
      }
      if (step === 2) {
        return 'Where you work and where TradeBotPro should listen for enquiries.';
      }
      if (step === 3) {
        return 'Rough structure of your pricing and the jobs you want more of.';
      }
      return 'Choose how you’d like to demo and roughly when to go live.';
    }

    function updateStatusBar(step) {
      const pct = (step / totalSteps) * 100;
      statusFill.style.width = `${pct}%`;
      statusLabel.textContent = getStepLabel(step);
      statusSecondary.textContent = getStepSecondary(step);
    }

    function showStep(step) {
      // Hide all panels
      for (let i = 1; i <= totalSteps; i++) {
        if (stepPanels[i]) {
          stepPanels[i].hidden = i !== step;
        }
      }

      // Update left step list
      stepItems.forEach(item => {
        const idx = Number(item.getAttribute('data-step-index'));
        item.classList.remove('step-item--active', 'step-item--done');
        if (idx < step) {
          item.classList.add('step-item--done');
        } else if (idx === step) {
          item.classList.add('step-item--active');
        }
      });

      // Buttons
      btnBack.disabled = (step === 1);
      btnNext.textContent = (step === totalSteps) ? 'Finish →' : 'Next step →';

      // Top status bar
      updateStatusBar(step);

      // Clear status message on step change
      if (wizardStatusMessage) {
        wizardStatusMessage.textContent = '';
        wizardStatusMessage.className = 'status-message';
      }

      currentStep = step;
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function validateStep(step) {
      // For now just rely on browser validation on required fields across the form.
      // This keeps things simple; most later-step fields are optional.
      if (!form.checkValidity()) {
        form.reportValidity();
        return false;
      }
      return true;
    }

    btnNext.addEventListener('click', () => {
      if (currentStep < totalSteps) {
        // Only enforce validation on Step 1 (the key required bits)
        if (currentStep === 1 && !validateStep(currentStep)) return;
        showStep(currentStep + 1);
      } else {
        // Final step “Finish” click — front-end only placeholder for now.
        if (wizardStatusMessage) {
          wizardStatusMessage.textContent =
            'Your answers have been captured in this browser session. ' +
            'In the next phase we’ll connect this wizard to Supabase so it saves and reloads automatically.';
          wizardStatusMessage.classList.add('status-message--success');
        }
      }
    });

    btnBack.addEventListener('click', () => {
      if (currentStep > 1) {
        showStep(currentStep - 1);
      }
    });

    btnSaveLater.addEventListener('click', () => {
      if (wizardStatusMessage) {
        wizardStatusMessage.textContent =
          'Save for later will be wired up once Supabase is connected. For now, keep this tab open to retain your answers.';
        wizardStatusMessage.classList.remove('status-message--error');
        wizardStatusMessage.classList.add('status-message--success');
      }
    });

    // Optional: show user_id from URL so we know whose profile this is (purely visual, no wiring).
    const params = new URLSearchParams(window.location.search);
    const userId = params.get('user_id');
    const userLabel = document.getElementById('user-label');
    if (userId && userLabel) {
      userLabel.textContent = `Profile ID: ${userId}`;
    } else if (userLabel) {
      userLabel.textContent = '';
    }

    // Initialise
    showStep(currentStep);
  })();
</script>
</body>
</html>

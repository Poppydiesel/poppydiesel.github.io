<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"></head>
<body>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.48.0/dist/umd/supabase.min.js"></script>
<script>
  const SUPABASE_URL = "https://yaiutswdcbfwkxfqxkzy.supabase.co";
  const SUPABASE_ANON_KEY = "YOUR_ANON_KEY_HERE";
  const sb = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  (async () => {
    const { data } = await sb.auth.getSession();
    const user = data?.session?.user;

    if (!user) {
      location.href = "/login.html";
      return;
    }

    const { data: admin } = await sb
      .from("admin_users")
      .select("user_id")
      .eq("user_id", user.id)
      .maybeSingle();

    if (admin) {
      location.href = "/dashboard.html";
    } else {
      location.href = "/client-dashboard.html";
    }
  })();
</script>

</body>
</html>
